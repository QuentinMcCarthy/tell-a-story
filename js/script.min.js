var surveyData;google.charts.load("current",{packages:["corechart","bar"]}),google.charts.setOnLoadCallback(loadData);var array=[];function loadData(){$.ajax({type:"GET",url:"data/surveyData.json",dataType:"json",success:function(a){transportation(a.totals.transportation),drawBar(a.totals.beforeYoobee),donutChart(a.totals.currentCourse),surveyData=a},error:function(a){console.log("Error "+a.status),console.log(a)}})}function transportation(a){var n=a.titles,r=a.data,s=0,l=0,i=0,d=0,c=0;r.forEach(function(a,r){for(var o=0;o<a;o++){var t=n[r];if("Train"==t)s++;else if("Bus"==t)l++;else if("Car"==t)i++;else if("Walk"==t)d++;else if("Bike"==t)c++;else for(var e=t.split(",");o<e.length;o++)"Train"==e[0]?s++:"Bus"==e[0]?l++:"Car"==e[0]?i++:"Walk"==e[0]?d++:"Bike"==e[0]?c++:console.log("Invalid data")}});var o,t="fas fa-2x";for(o=0;o<s;o++)$("#trains").append($("<i class='"+t+" fa-subway'>"));for(o=0;o<l;o++)$("#buses").append($("<i class='"+t+" fa-bus'>"));for(o=0;o<i;o++)$("#cars").append($("<i class='"+t+" fa-car'>"));for(o=0;o<d;o++)$("#walks").append($("<i class='"+t+" fa-walking'>"));for(o=0;o<c;o++)$("#bikes").append($("<i class='"+t+" fa-bicycle'>"))}function drawBar(a){array.push(a),JSON.stringify(array[0].data);var r=new google.visualization.DataTable;r.addColumn("string","Gender"),r.addColumn("number","Amount");for(var o=0;o<array[0].data.length;o++)r.addRow([array[0].titles[o],array[0].data[o]]);new google.charts.Bar(document.getElementById("barChart")).draw(r,{title:"Before Yoobee",bars:"horizontal",colors:["#899ebf"],vAxis:{minValue:0},backgroundColor:{fill:"transparent"}})}function donutChart(a){array.push(a),console.log(array);var r=new google.visualization.DataTable;r.addColumn("string","Courses"),r.addColumn("number","Amount");for(var o=0;o<array[1].data.length;o++)r.addRow([array[1].titles[o],array[1].data[o]]),console.log(array[1].titles[o]),console.log(array[1].data[o]);new google.visualization.PieChart(document.getElementById("donuty")).draw(r,{colors:["#d4d0db","#ccbae2","#ae9bc6","#a089bc","#836aa3","#664d87","#34165b","#470a96"]})}